import { DynamoDBClient } from "@aws-sdk/client-dynamodb"; 
import { DynamoDBDocumentClient, PutCommand } from "@aws-sdk/lib-dynamodb";


export const handler = async (event) => {
  const client = new DynamoDBClient({});
  const ddbDocClient = DynamoDBDocumentClient.from(client);
  
  try {
    await ddbDocClient.send(
      new PutCommand({
        TableName: "FovusTable",
        Item: event,
      })
    );
    
    const response = {
      statusCode: 200,
      headers: {
        'Access-Control-Allow-Origin': '*',
        'Access-Control-Allow-Methods': 'POST,OPTIONS',
        'Access-Control-Allow-Headers': 'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token',
      }
    }
    return response
  } catch (error) {
    throw error;
  }
};